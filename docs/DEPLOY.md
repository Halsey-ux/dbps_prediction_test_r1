# éƒ¨ç½²è¯´æ˜Ž (DEPLOY.md)

## Python ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜Ž

### ä¸ºä»€ä¹ˆä½¿ç”¨ Python 3.12.4 è€Œä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Python 3.12.4 è€Œä¸æ˜¯ Python 3.13.x çš„åŽŸå› å¦‚ä¸‹ï¼š

#### 1. **PyTorch å…¼å®¹æ€§é—®é¢˜**
- **é—®é¢˜**: PyTorch 2.0.1 åœ¨ Python 3.13.5 çŽ¯å¢ƒä¸‹æ²¡æœ‰é¢„ç¼–è¯‘çš„è½®å­ (wheels)
- **è¡¨çŽ°**: éƒ¨ç½²æ—¶å‡ºçŽ°é”™è¯¯ `torch==2.0.1 has no wheels with a matching Python ABI tag`
- **è§£å†³æ–¹æ¡ˆ**: å‡çº§åˆ° PyTorch 2.6.0 + Python 3.12.4 çš„ç¨³å®šç»„åˆ

#### 2. **ä¾èµ–åŒ…ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿåº¦**
- Python 3.12.x æ‹¥æœ‰æ›´æˆç†Ÿçš„ç§‘å­¦è®¡ç®—åŒ…ç”Ÿæ€ç³»ç»Ÿ
- å¤§å¤šæ•° ML/DL åŒ…éƒ½å¯¹ Python 3.12 æœ‰å®Œæ•´çš„æ”¯æŒå’Œæµ‹è¯•
- Python 3.13 ä½œä¸ºè¾ƒæ–°ç‰ˆæœ¬ï¼Œè®¸å¤šåŒ…è¿˜åœ¨é€‚é…é˜¶æ®µ

#### 3. **Streamlit Cloud çŽ¯å¢ƒä¼˜åŒ–**
- Streamlit Cloud å¯¹ Python 3.12.x æœ‰æ›´å¥½çš„æ”¯æŒ
- é¿å…äº†æ–°ç‰ˆæœ¬ Python å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é£Žé™©
- ç¡®ä¿éƒ¨ç½²çŽ¯å¢ƒçš„ç¨³å®šæ€§å’Œå¯é¢„æµ‹æ€§

### å½“å‰é…ç½®

```txt
# runtime.txt
python-3.12.4

# requirements.txt  
torch==2.6.0  # å‡çº§ä»¥æ”¯æŒ Python 3.12+
numpy==1.24.3
pandas==2.0.3
tqdm==4.65.0
streamlit==1.28.1
plotly==5.17.0
```

### éƒ¨ç½²éªŒè¯

ç»è¿‡æµ‹è¯•ï¼ŒPython 3.12.4 + PyTorch 2.6.0 çš„ç»„åˆèƒ½å¤Ÿï¼š
- âœ… åœ¨ Streamlit Cloud ä¸ŠæˆåŠŸå®‰è£…æ‰€æœ‰ä¾èµ–
- âœ… æ­£å¸¸è¿è¡Œ ReactionTransformer æ¨¡åž‹
- âœ… æä¾›ç¨³å®šçš„ Web åº”ç”¨æœåŠ¡

### æœªæ¥å‡çº§è®¡åˆ’

å½“ PyTorch å’Œç›¸å…³ä¾èµ–åŒ…å¯¹ Python 3.13+ æä¾›å®Œæ•´æ”¯æŒåŽï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘å‡çº§åˆ°æœ€æ–°çš„ Python ç‰ˆæœ¬ã€‚ç›®å‰çš„é…ç½®ä¼˜å…ˆè€ƒè™‘ç¨³å®šæ€§å’Œå…¼å®¹æ€§ã€‚

## âš ï¸ Streamlit Cloud éƒ¨ç½²é‡è¦è¯´æ˜Ž

### Python ç‰ˆæœ¬é…ç½®é™åˆ¶

**é‡è¦æé†’**: Streamlit Cloud **ä¸ä¼šè‡ªåŠ¨è¯»å– `runtime.txt` æ–‡ä»¶**æ¥ç¡®å®š Python ç‰ˆæœ¬ã€‚

#### å¦‚ä½•æ­£ç¡®è®¾ç½® Python ç‰ˆæœ¬ï¼š

1. **åœ¨ Streamlit Cloud ç®¡ç†ç•Œé¢æ‰‹åŠ¨é€‰æ‹©**
   - ç™»å½• [Streamlit Cloud](https://share.streamlit.io/)
   - è¿›å…¥åº”ç”¨è®¾ç½®é¡µé¢
   - åœ¨ "Advanced settings" ä¸­æ‰‹åŠ¨é€‰æ‹© Python ç‰ˆæœ¬
   - æŽ¨èé€‰æ‹©ï¼š**Python 3.12.x**

2. **å½“å‰éƒ¨ç½²é—®é¢˜çš„æ ¹æœ¬åŽŸå› **
   - Streamlit Cloud é»˜è®¤ä½¿ç”¨ Python 3.13.5
   - `runtime.txt` ä¸­çš„ `python-3.12.4` é…ç½®è¢«å¿½ç•¥
   - å¯¼è‡´ PyTorch 2.6.0 å®‰è£…å¤±è´¥ï¼ˆPython 3.13 ABI ä¸å…¼å®¹ï¼‰

#### è§£å†³æ­¥éª¤ï¼š

1. âœ… **ç¡®ä¿ requirements.txt æ­£ç¡®**: `torch==2.6.0`
2. âš ï¸ **åœ¨ Streamlit Cloud UI ä¸­æ‰‹åŠ¨é€‰æ‹© Python 3.12.x**
3. ðŸ”„ **é‡æ–°éƒ¨ç½² (Rebuild) åº”ç”¨**

### ä¾èµ–ç®¡ç†æœ€ä½³å®žè·µ

- åªç»´æŠ¤ä¸€ä¸ª `requirements.txt` æ–‡ä»¶
- é¿å…ä½¿ç”¨ `uv.lock`, `Pipfile`, `environment.yml` ç­‰å¯èƒ½å†²çªçš„é”å®šæ–‡ä»¶
- ä½¿ç”¨å›ºå®šç‰ˆæœ¬å· (`==`) è€Œéžç‰ˆæœ¬èŒƒå›´ (`>=`, `<`) ç¡®ä¿å¯é‡çŽ°æ€§ 