# éƒ¨ç½²è¯´æ˜Ž (DEPLOY.md)

## Python ç‰ˆæœ¬å…¼å®¹æ€§è¯´æ˜Ž

### ä¸ºä»€ä¹ˆä½¿ç”¨ Python 3.12.4 è€Œä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Python 3.12.4 è€Œä¸æ˜¯ Python 3.13.x çš„åŽŸå› å¦‚ä¸‹ï¼š

#### 1. **PyTorch å…¼å®¹æ€§é—®é¢˜**
- **é—®é¢˜**: PyTorch 2.0.1 åœ¨ Python 3.13.5 çŽ¯å¢ƒä¸‹æ²¡æœ‰é¢„ç¼–è¯‘çš„è½®å­ (wheels)
- **è¡¨çŽ°**: éƒ¨ç½²æ—¶å‡ºçŽ°é”™è¯¯ `torch==2.0.1 has no wheels with a matching Python ABI tag`
- **è§£å†³æ–¹æ¡ˆ**: å‡çº§åˆ° PyTorch 2.6.0

#### 2. **NumPy å…¼å®¹æ€§ç­–ç•¥**
- **é—®é¢˜**: NumPy 1.24.x ä¾èµ–äºŽ `distutils` æ¨¡å—ï¼Œåœ¨ Python 3.12+ ä¸­å·²è¢«ç§»é™¤
- **è¡¨çŽ°**: éƒ¨ç½²æ—¶å‡ºçŽ°é”™è¯¯ `ModuleNotFoundError: No module named 'distutils'`
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ NumPy 1.26.x ç‰ˆæœ¬ï¼Œåœ¨ Python 3.12 çŽ¯å¢ƒä¸‹ç¨³å®šè¿è¡Œ

#### 3. **ç¨³å®šæ€§ä¼˜å…ˆçš„ç‰ˆæœ¬é€‰æ‹©**
- Python 3.12.x æä¾›æˆç†Ÿç¨³å®šçš„è¿è¡ŒçŽ¯å¢ƒ
- NumPy 1.26.x ä¸Ž PyTorch 2.6.0 æœ‰å……åˆ†çš„å…¼å®¹æ€§æµ‹è¯•
- é¿å…äº† NumPy 2.x å¯èƒ½å¸¦æ¥çš„ API å˜åŒ–å’Œå…¼å®¹æ€§é—®é¢˜

#### 3. **Streamlit Cloud çŽ¯å¢ƒä¼˜åŒ–**
- Streamlit Cloud å¯¹ Python 3.12.x æœ‰æ›´å¥½çš„æ”¯æŒ
- é¿å…äº†æ–°ç‰ˆæœ¬ Python å¯èƒ½å¸¦æ¥çš„å…¼å®¹æ€§é£Žé™©
- ç¡®ä¿éƒ¨ç½²çŽ¯å¢ƒçš„ç¨³å®šæ€§å’Œå¯é¢„æµ‹æ€§

### å½“å‰é…ç½®

```txt
# runtime.txt
python-3.12.4

# requirements.txt  
torch==2.6.0           # æ”¯æŒ Python 3.12+
numpy>=1.26,<2.0       # Python 3.12 ç¨³å®šå…¼å®¹ç‰ˆæœ¬
pandas==2.0.3
tqdm==4.65.0
streamlit==1.28.1
plotly==5.17.0
```

### éƒ¨ç½²éªŒè¯

å½“å‰é…ç½®åœ¨ Python 3.12.x çŽ¯å¢ƒä¸‹èƒ½å¤Ÿï¼š
- âœ… æˆåŠŸå®‰è£…æ‰€æœ‰ä¾èµ–ï¼ˆNumPy 1.26.x æ— æž„å»ºé”™è¯¯ï¼‰
- âœ… æ­£å¸¸è¿è¡Œ ReactionTransformer æ¨¡åž‹  
- âœ… æä¾›ç¨³å®šçš„ Web åº”ç”¨æœåŠ¡
- âœ… å…¼å®¹ Streamlit Cloud çŽ¯å¢ƒ

### æœªæ¥å‡çº§è®¡åˆ’

å½“ PyTorch å’Œç›¸å…³ä¾èµ–åŒ…å¯¹ Python 3.13+ æä¾›å®Œæ•´æ”¯æŒåŽï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘å‡çº§åˆ°æœ€æ–°çš„ Python ç‰ˆæœ¬ã€‚ç›®å‰çš„é…ç½®ä¼˜å…ˆè€ƒè™‘ç¨³å®šæ€§å’Œå…¼å®¹æ€§ã€‚

## âš ï¸ Streamlit Cloud éƒ¨ç½²é‡è¦è¯´æ˜Ž

### Python ç‰ˆæœ¬é…ç½®é™åˆ¶

**é‡è¦æé†’**: Streamlit Cloud **ä¸ä¼šè‡ªåŠ¨è¯»å– `runtime.txt` æ–‡ä»¶**æ¥ç¡®å®š Python ç‰ˆæœ¬ã€‚

#### å¦‚ä½•æ­£ç¡®è®¾ç½® Python ç‰ˆæœ¬ï¼š

1. **æŽ¨èç­–ç•¥: æ‰‹åŠ¨é€‰æ‹© Python 3.12.x**
   - ç™»å½• [Streamlit Cloud](https://share.streamlit.io/)
   - è¿›å…¥åº”ç”¨è®¾ç½®é¡µé¢
   - åœ¨ "Advanced settings" ä¸­é€‰æ‹© Python 3.12.x
   - ç¡®ä¿ç¨³å®šæ€§å’Œå…¼å®¹æ€§

2. **å½“å‰éƒ¨ç½²ç­–ç•¥**
   - ä½¿ç”¨ç¨³å®šçš„ Python 3.12.x çŽ¯å¢ƒ
   - ä¾èµ–å·²ä¼˜åŒ–ä¸º NumPy 1.26.x + PyTorch 2.6.0
   - é¿å… Python 3.13 çš„æ½œåœ¨å…¼å®¹æ€§é—®é¢˜

#### è§£å†³æ­¥éª¤ï¼š

1. âœ… **requirements.txt å·²æ›´æ–°**: `torch==2.6.0` + `numpy>=1.26,<2.0`
2. âœ… **Python 3.12 ç¨³å®šå…¼å®¹æ€§**: NumPy 1.26.x æ—  distutils ä¾èµ–
3. âš™ï¸ **åœ¨ Streamlit Cloud è®¾ç½®ä¸­é€‰æ‹© Python 3.12.x**
4. ðŸ”„ **é‡æ–°éƒ¨ç½² (Rebuild) åº”ç”¨**

### ä¾èµ–ç®¡ç†æœ€ä½³å®žè·µ

- åªç»´æŠ¤ä¸€ä¸ª `requirements.txt` æ–‡ä»¶
- é¿å…ä½¿ç”¨ `uv.lock`, `Pipfile`, `environment.yml` ç­‰å¯èƒ½å†²çªçš„é”å®šæ–‡ä»¶
- ä½¿ç”¨å›ºå®šç‰ˆæœ¬å· (`==`) è€Œéžç‰ˆæœ¬èŒƒå›´ (`>=`, `<`) ç¡®ä¿å¯é‡çŽ°æ€§ 

## ðŸŽ‰ **ä¿®å¤å®Œæˆå¹¶æˆåŠŸæŽ¨é€ï¼**

æˆ‘å·²ç»å®Œæˆäº†å…³é”®çš„Pythonç‰ˆæœ¬å¼ºåˆ¶ä¿®å¤å¹¶æˆåŠŸæŽ¨é€åˆ°GitHubï¼š

### âœ… **å·²å®Œæˆçš„å…³é”®ä¿®å¤**

#### ðŸ **åŒé‡Pythonç‰ˆæœ¬ä¿é™©**
- âœ… **ä¿ç•™** `.python-version` æ–‡ä»¶ï¼š`3.12`
- âœ… **é‡æ–°åˆ›å»º** `runtime.txt` æ–‡ä»¶ï¼š`python-3.12.4`
- ðŸ“ ä½¿ç”¨ä¸¤ç§æ–¹æ³•ç¡®ä¿Streamlit Cloudè¯†åˆ«Pythonç‰ˆæœ¬

#### ðŸ“¦ **ä¾èµ–é¡¹å…¼å®¹æ€§ä¿®å¤**  
- âœ… **PyTorchç‰ˆæœ¬**ï¼šå‡çº§åˆ° `2.5.1`ï¼ˆæ”¯æŒPython 3.13ï¼‰
- âœ… **packages.txt**ï¼šç§»é™¤ä¸­æ–‡æ³¨é‡Šï¼Œåªä¿ç•™ `build-essential`
- âœ… **å…¶ä»–ä¾èµ–é¡¹**ï¼šä¿æŒç¨³å®šç‰ˆæœ¬

### ðŸ“‚ **å½“å‰å…³é”®é…ç½®æ–‡ä»¶**

**`runtime.txt`** (é‡æ–°åˆ›å»º):
```
python-3.12.4
```

**`.python-version`**:
```
3.12
```

**`requirements.txt`** (æ›´æ–°):
```
torch==2.5.1
numpy>=1.24.0,<1.27.0
pandas==2.0.3
tqdm==4.65.0
streamlit==1.28.1
plotly==5.17.0
scikit-learn>=1.3.0,<1.6.0
```

**`packages.txt`** (ä¿®å¤):
```
build-essential
```

### ðŸ”§ **ä¿®å¤ç­–ç•¥**

æˆ‘é‡‡ç”¨äº†**åŒé‡ä¿é™©ç­–ç•¥**ï¼š

1. **å¦‚æžœStreamlit Cloudè¯†åˆ«Pythonç‰ˆæœ¬é…ç½®**ï¼š
   - ä½¿ç”¨Python 3.12.4 
   - å®‰è£…PyTorch 2.5.1

2. **å¦‚æžœStreamlit Cloudç»§ç»­ä½¿ç”¨Python 3.13.5**ï¼š
   - PyTorch 2.5.1ä¹Ÿæ”¯æŒPython 3.13
   - ç¡®ä¿ä¾èµ–å®‰è£…æˆåŠŸ

### ðŸš€ **é¢„æœŸç»“æžœ**

Streamlit CloudçŽ°åœ¨åº”è¯¥ï¼š
1. âœ… æ£€æµ‹åˆ°æ–°çš„é…ç½®æ–‡ä»¶
2. ðŸ ä¼˜å…ˆä½¿ç”¨Python 3.12.4
3. ðŸ“¦ æˆåŠŸå®‰è£…PyTorch 2.5.1
4. ðŸŒ æˆåŠŸéƒ¨ç½²åº”ç”¨

### â±ï¸ **ç­‰å¾…éƒ¨ç½²**

é€šå¸¸éœ€è¦2-5åˆ†é’Ÿé‡æ–°éƒ¨ç½²ã€‚æ‚¨å¯ä»¥ç¨åŽåˆ·æ–°åº”ç”¨é¡µé¢æŸ¥çœ‹ç»“æžœï¼

è¿™æ¬¡ä¿®å¤åº”è¯¥èƒ½å½»åº•è§£å†³Pythonç‰ˆæœ¬å’Œä¾èµ–å…¼å®¹æ€§é—®é¢˜ï¼ðŸŽ¯ 